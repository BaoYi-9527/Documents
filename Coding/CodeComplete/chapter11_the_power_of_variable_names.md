[TOC]

###  第11章 · 变量名的力量



> 规范的变量命名规范能够让项目代码易读、易维护。

#### 11.1 命名注意事项

1. 变量命名要完全，准确地描述出该变量所代表的事物。
2. 命名应尽可能地明确。一个好记的名字反映的通常是问题，而不是解决方案。
3. 变量命名应有适当的长度。短的变量名多用作临时变量(局部变量或循环变量)使用。
4. 对位于全局命名空间的名字加以限定词。



##### 11.1.1 常用计算值限定词

| 限定词      | 描述                                       |
| ----------- | ------------------------------------------ |
| Total / Sum | 总额                                       |
| Average     | 均值                                       |
| Max         | 最大值                                     |
| Min         | 最小值                                     |
| Record      | 记录                                       |
| String      | 字符                                       |
| Pointer     | 指针                                       |
| Num         | 变量名开始位置表总数，变量名结束位置表下标 |

##### 11.1.2 常用对仗词

+ begin/end
+ first/last
+ locked/unlocked
+ min/max
+ next/previous
+ old/new
+ opened/closed
+ visible/invisible
+ source/target
+ source/destination
+ up/down

#### 11.2 为特定的类型的数据命名

1. 循环下标：如果一个变量要在循环外使用，就需要为其取一个更具有描述性的名字。
2. 状态变量：标记应该用枚举类型、具名常量，或用作具名常量的全局变量来对其赋值，而且其值应该与上面这些量做比较。
3. 布尔变量：常用布尔变量名：`done/error/found/success/ok`。
4. 枚举类型：使用组前缀，来表明该类型的成员同属于一个组。
5. 常量：抽象事物命名。

#### 11.3 命名规则

变量应包含三类内容：

+ 变量的内容
+ 数据的种类（具名常量、简单变量、用户自定义类型或者类）
+ 变量的作用域（私用、类、包或者全局作用域）

**使用场景**

+ 多人员开发项目时有必要使用变量命名规则；
+ 当后续项目需要转交给他人维护时(这几乎是肯定的)；
+ 项目规模太大，导致开发人员难以掌握整个项目的所有细节时；
+ 当项目的生命周期足够长，以至于需要长期维护时；
+ 当项目中存在一些不常见的术语时，需要使用规范的术语或缩写进行统一。

#### 11.4 非正式命名规则

+ 区分变量名和子程序名字；
+ 区分类和对象：
  1. 通过大小字母开头区分类型和变量；
  2. 通过全部大写区分类型和变量；
  3. 通过给类型加`t_`或`a`前缀区分类型和变量；
  4. 通过给变量采用更明确的名字区分类型和变量；
+ 标识全局变量：通常采用全局变量加`g_`前缀的方式去标识；
+ 标识成员变量：通常采用成员变量加`m_`前缀的方式去标识；
+ 标识类型声明：通常采用类型名增加`t_`前缀的方式；
+ 标识具名常量：通常采用类型名增加`c_`前缀的方式；
+ 标识枚举类型：全部用大写，或者为类型名增加`e_`或`E_`前缀，同时为该类型的成员名增加基于特定类型的前缀，入`Color_`或者`Planet_`;
+ 格式化命名提高可读性：常用的是使用驼峰命名法；

#### 11.5 创建可读性的短名字

##### 11.5.1 缩写原则

+ 使用标准的缩写；
+ 去掉虚词`and/or/the`；
+ 使用单词的前几个字母；
+ 使用名字中的每一个重要单词；
+ 去除无用后缀`ing/ed`；
+ 确保不要改变变量的含义；

> 必要时需要用缩写对照表解释极短的名字的含义。

#### 11.6 应避免的命名

+ 避免使用令人误解的名字或缩写；
+ 避免使用具有相似含义的名字；
+ 避免使用具有不同含义但却有相似名字的变量；
+ 避免在名字中使用数字；
+ 不要仅靠大小写来区分变量名；
+ 避免使用标准类型、变量和子程序的名字；
+ 不要使用与变量的含义完全无关的名字；
+ 避免在名字中包含易混淆的字符；



#### 11.7 PHP代码规范

1. 类的命名必须遵循大写开头的驼峰命名规范：`StudyCaps`
2. 类中的常量所有字母必须大写，单词间用下划线分割：`CURLOPT_SSL_VERIFYPEER`
3. 方法的命名必须符合小写驼峰命名规范：`camelCase`
4. 代码必须使用四个空格键而不是tab键进行缩进
5. 每行的字符数应该软性保持在80个之内，理论上不应超过120个，但无硬性限制
6. 每个`namespace`命名空间声明语句和`use`声明语句块后面，必须插入一个空白行
7. 类/方法：`{}`必须自成一行
8. 控制结构：`{`必须和写在声明的同一行,`}`必须自成一行
9. 控制结构的关键字后必须要有一个空格符，而调用方法或函数时一定不能有
10. 控制结构开始左括号后和结束右括号前，都一定不能有空格符
11. 类的属性和方法必须添加访问修饰符`private/protected/public`
    + `abstract/final`必须声明在访问修饰符之前
    + `static`必须声明在访问修饰符之后















































































> 参考：
>
> 1. 《代码大全》第二版